<!doctype html>
<html>


<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> Cost of living survey</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <link rel="stylesheet" href="pico.css">

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="js/leaflet.ajax.min.js"></script>
    <script>
        var layout = {
            title: "How hours worked affect finances",
            showlegend: true
        };
        function cb(selection) {
            $.getJSON({
                url: "/callback", data: { 'data': selection }, success: function (result) {
                    Plotly.newPlot('chart', result, layout);;
                }
            });
        }
    </script>

</head>



<body>

    <section id="header">
        <div class="container">
            <h1>Cost of living survey</h1>
        </div>
    </section>
    <main class="container">
        <div class="grid">
            <div>
                <h2>Rents in Bristol are among the highest in the UK. The average student pays Â£720 a month</h2>
            </div>
            <div id="map"> </div>

        </div>
        <form>
            <!-- <h1>How hours worked affect finances</h1>
        <h2>Set the hours worked per week</h2> -->

            <div id="chart" class="chart"></div>
            <div class="slidecontainer">
                <input type="range" min="0" max="10" value="5" class="slider" id="myRange" ,
                    onchange="graphplotter(this.value, globalstipend)">
            </div>

            <div class="sliderlabel" id="demo"></div>
        </form>


        <div id="piechart"></div>


        <div class="slidecontainer">
            <input type="range" min="17400" max="30000" , value="17400" class="slider" id="myRange2" ,
                onchange="doubleupdater(globalhours,this.value)">
        </div>

        <div class="sliderlabel" id="demo2"></div>


    </main>



    <div id="mincomp"> </div>



</body>

<script>
    var globalhours = 5
    var globalstipend = 17400
</script>


<script src="js/graphplotter.js"></script>

<script src="js/mapscript.js"></script>

<script src="js/minwagegraph.js"></script>
<script src="js/piechart.js"></script>
<script src="js/doublegraphupdater.js"></script>

<script>
    var slider = document.getElementById("myRange");
    graphplotter(slider.value);
</script>

<script>
    var slider2 = document.getElementById("myRange2");
    doubleupdater(globalhours, slider2.value);
</script>


</html>